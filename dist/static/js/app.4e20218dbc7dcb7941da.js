webpackJsonp([1],{129:function(t,e,s){var a=s(45)(s(135),s(360),null,null,null);t.exports=a.exports},130:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(91),n=s(363),r=s(352),l=s.n(r),i=s(93),o=s(138);a.a.use(n.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:i.a,store:o.a,template:"<App/>",components:{App:l.a}})},132:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},133:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(49),n=s(354),r=s.n(n),l=s(129),i=s.n(l),o=s(355),c=s.n(o);e.default={name:"shelters",data:function(){return{panel_title:"Emergency Evacuation Shelters"}},components:{"shelter-row":r.a,"shelters-legend":i.a,"shelter-map":c.a},methods:s.i(a.c)(["fetchShelters"]),mounted:function(){this.fetchShelters({outFields:"LOCATIONID,NAME,STATUS1,PETS,ADA",where:"1=1"})}}},134:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(95),n=s.n(a),r=s(49);e.default={name:"shelter-row",props:["shelter"],computed:n()({},s.i(r.b)(["petsAllowed","adaPlus","statusLabelClass"]))}},135:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},136:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(49);e.default={name:"shelter-map",methods:s.i(a.c)(["initShelterMap"]),mounted:function(){this.initShelterMap(this.$el)}}},137:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(95),n=s.n(a),r=s(49),l=s(129),i=s.n(l);e.default={name:"shelters-show",props:["id"],components:{"shelters-legend":i.a},beforeRouteEnter:function(t,e,s){s(function(e){e.fetchShelter(t.params.id)})},watch:{$route:function(){this.fetchShelter(this.id)}},computed:n()({shelter:function(){return this.$store.state.shelters.selected}},s.i(r.b)(["isOpen","statusAlertClass","statusTextClass","googleMapLink","adaPlus","petsAllowed"])),methods:n()({},s.i(r.c)(["fetchShelter"]),{showModal:function(){$(this.$el).modal("show")},hideModalOnClose:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$(this.$el).on("hidden.bs.modal",function(s){e&&t.$router.push({name:"SheltersIndex"})})}}),mounted:function(){this.showModal(),this.hideModalOnClose(!0)}}},138:function(t,e,s){"use strict";s.d(e,"a",function(){return d});var a=s(94),n=s.n(a),r=s(91),l=s(49),i=s(93),o=s(347);r.a.use(l.a);var c={state:{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/Heat/HEAT/FeatureServer/0",params:{f:"json",returnGeometry:!1,outFields:"*",where:"1=1",orderByFields:"STATUS1 DESC, NAME"}}},u={modules:{api:c},state:{index:[],selected:null,selected_status:"Loading"},getters:{isOpen:function(t,e){return function(t){return"OPEN"===t.STATUS1}},petsAllowed:function(t,e){return function(t){return"Yes"===t.PETS}},adaPlus:function(t,e){return function(t){return"Yes"===t.ADA}},googleMapLink:function(t,e){return function(t){return"http://maps.google.com/?q="+[t.NAME,t.ADDRESS,t.ZIPCODE].join(",")}},statusLabelClass:function(t,e){return function(t){return e.isOpen(t)?"label-success":"label-danger"}},statusAlertClass:function(t,e){return function(t){return e.isOpen(t)?"alert-success":"alert-danger"}},statusTextClass:function(t,e){return function(t){return e.isOpen(t)?"text-success":"text-danger"}}},actions:{fetchShelters:function(t){var e=t.state,s=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.a.http.get(e.api.url+"/query",{params:n()({},e.api.params,a)}).then(function(t){s("setShelters",t.body.features.map(function(t){return t.attributes}))},function(t){console.error(t)})},fetchShelter:function(t,e){var s=t.state,a=t.commit;return a("setSelectedStatus","Loading"),r.a.http.get(s.api.url+"/query",{params:n()({},s.api.params,{where:"LOCATIONID = '"+e+"'"})}).then(function(t){if(!t.body.features||!t.body.features.length)throw"Shelter Not Found";a("setSelectedShelter",t.body.features.map(function(t){return t.attributes})[0])}).catch(function(t){console.error(t),a("setSelectedShelter",null),a("setSelectedStatus",t)})},initShelterMap:function(t,e){var s=t.state;o.a(["esri/WebMap","esri/views/MapView","esri/layers/FeatureLayer"],function(t,a,n){var r=new t({portalItem:{id:"b51fb4e76e154e1b93b630eac3ea94ae"}}),l=new a({container:e,map:r}),o=new n({url:s.api.url,outFields:["LOCATIONID"]});l.on("click",function(t){var e={x:t.x,y:t.y};l.hitTest(e).then(function(t){t.results[0].graphic&&i.a.push({name:"SheltersShow",params:{id:t.results[0].graphic.attributes.LOCATIONID}})})}),r.add(o)})}},mutations:{setShelters:function(t,e){t.index=e},setSelectedShelter:function(t,e){t.selected=e},setSelectedStatus:function(t,e){t.selected_status=e}}},d=new l.a.Store({modules:{shelters:u}})},348:function(t,e){},349:function(t,e){},350:function(t,e){},352:function(t,e,s){function a(t){s(349)}var n=s(45)(s(132),s(361),a,null,null);t.exports=n.exports},353:function(t,e,s){function a(t){s(348)}var n=s(45)(s(133),s(357),a,null,null);t.exports=n.exports},354:function(t,e,s){var a=s(45)(s(134),s(359),null,null,null);t.exports=a.exports},355:function(t,e,s){var a=s(45)(s(136),s(358),null,null,null);t.exports=a.exports},356:function(t,e,s){function a(t){s(350)}var n=s(45)(s(137),s(362),a,"data-v-e7f2749e",null);t.exports=n.exports},357:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"shelters"}},[s("div",{staticClass:"panel panel-default"},[s("header",{staticClass:"panel-heading"},[s("h3",{staticClass:"panel-title text-danger"},[t._v("\n\t\t\t\t"+t._s(t.panel_title)+"\n\t\t\t")])]),t._v(" "),s("div",{staticClass:"embed-responsive embed-responsive-16by9"},[s("shelter-map")],1),t._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped table-condensed"},[t.$store.state.shelters.index.length?s("thead",[t._m(0)]):t._e(),t._v(" "),t.$store.state.shelters.index.length?s("tbody",t._l(t.$store.state.shelters.index,function(t){return s("shelter-row",{tag:"tr",attrs:{shelter:t}})})):s("tbody",[s("tr",[s("td",{staticClass:"text-center h4",attrs:{colspan:"3"}},[t._v("\n\t\t\t\t\t\t\tNo shelters are open at this time.\n\t\t\t\t\t\t")])])])])]),t._v(" "),s("footer",{staticClass:"panel-footer"},[s("shelters-legend")],1)]),t._v(" "),s("router-view")],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",{attrs:{colspan:"2"}},[t._v("Location")]),t._v(" "),s("th",[t._v("Details")])])}]}},358:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"embed-responsive-item",attrs:{id:"shelter-map"}})},staticRenderFns:[]}},359:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{attrs:{width:"1"}},[s("router-link",{staticClass:"btn btn-xs btn-default",attrs:{to:{name:"SheltersShow",params:{id:t.shelter.LOCATIONID}}}},[s("i",{staticClass:"fa fa-1x fa-fw fa-info-circle"})])],1),t._v(" "),s("td",[s("strong",[t._v("\n\t\t\t"+t._s(t.shelter.NAME)+"\n\t\t")])]),t._v(" "),s("td",[s("span",{staticClass:"label",class:t.statusLabelClass(t.shelter)},[t._v(t._s(t.shelter.STATUS1))]),t._v(" "),t.adaPlus(t.shelter)?s("span",{staticClass:"label label-info"},[s("i",{staticClass:"fa fa-1x fa-wheelchair"})]):t._e(),t._v(" "),t.petsAllowed(t.shelter)?s("span",{staticClass:"label label-info"},[s("i",{staticClass:"fa fa-1x fa-paw"})]):t._e()])])},staticRenderFns:[]}},360:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"fa-ul small"},[s("li",[s("i",{staticClass:"fa-li fa fa-1x fa-wheelchair"}),t._v("\n\t\tAll shelters are ADA compliant, however, shelters with this symbol have more ADA compliant restrooms available and may offer greater accessibility.\n\t")]),t._v(" "),s("li",[s("i",{staticClass:"fa-li fa fa-1x fa-paw"}),t._v("\n\t\tShelters with this symbol are Pet Friendly.\n\t")])])}]}},361:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},362:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"shelterModalLabel"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t.shelter?s("div",{staticClass:"modal-content"},[s("header",{staticClass:"modal-header text-center"},[t._m(0),t._v(" "),s("h4",{staticClass:"modal-title",attrs:{id:"shelterModalLabel"}},[t._v("\n\t\t\t\t\t"+t._s(t.shelter.NAME)+"\n\t\t\t\t\t"),s("br"),t._v(" "),s("small",[t._v("\n\t\t\t\t\t\t"+t._s(t.shelter.ADDRESS)+"\n\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"alert",class:t.statusAlertClass(t.shelter)},[s("p",{staticClass:"status h3 text-center",class:t.statusTextClass(t.shelter)},[t._v("\n\t\t\t\t\t"+t._s(t.shelter.STATUS1)+"\n\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"modal-body"},[s("p",[s("a",{staticClass:"btn btn-default btn-sm",attrs:{href:t.googleMapLink(t.shelter),target:"_blank"}},[s("i",{staticClass:"fa fa-fw fa-map-marker"}),t._v(" Map\n\t\t\t\t\t")]),t._v(" "),s("a",{staticClass:"btn btn-default btn-sm",attrs:{href:t.shelter.URL,target:"_blank"}},[s("i",{staticClass:"fa fa-fw fa-globe"}),t._v(" Website\n\t\t\t\t\t")]),t._v(" "),t.adaPlus(t.shelter)?s("span",{staticClass:"label label-info"},[s("i",{staticClass:"fa fa-fw fa-wheelchair"})]):t._e(),t._v(" "),t.petsAllowed(t.shelter)?s("span",{staticClass:"label label-info"},[s("i",{staticClass:"fa fa-fw fa-paw"})]):t._e()]),t._v(" "),s("dl",[t.shelter.NUMBER?s("dt",[t._v("Number")]):t._e(),t._v(" "),t.shelter.NUMBER?s("dd",{domProps:{textContent:t._s(t.shelter.NUMBER)}}):t._e(),t._v(" "),t.shelter.STATUS?s("dt",[t._v("Category")]):t._e(),t._v(" "),t.shelter.STATUS?s("dd",{domProps:{textContent:t._s(t.shelter.STATUS)}}):t._e(),t._v(" "),t.shelter.BACKUP_1?s("dt",[t._v("Backup 1")]):t._e(),t._v(" "),t.shelter.BACKUP_1?s("dd",{domProps:{textContent:t._s(t.shelter.BACKUP_1)}}):t._e(),t._v(" "),t.shelter.BACKUP_2?s("dt",[t._v("Backup 2")]):t._e(),t._v(" "),t.shelter.BACKUP_2?s("dd",{domProps:{textContent:t._s(t.shelter.BACKUP_2)}}):t._e(),t._v(" "),t.shelter.NOTES?s("dt",[t._v("Notes")]):t._e(),t._v(" "),t.shelter.NOTES?s("dd",{domProps:{textContent:t._s(t.shelter.NOTES)}}):t._e()]),t._v(" "),s("p",[s("img",{staticClass:"img-thumbnail center-block",attrs:{src:t.shelter.image,alt:t.shelter.NAME}})])]),t._v(" "),s("div",{staticClass:"well"},[s("shelters-legend")],1),t._v(" "),t._m(1)]):s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body"},[s("p",{staticClass:"h4 text-center"},[t._v("\n\t\t\t\t\t"+t._s(t.$store.state.shelters.selected_status)+"\n\t\t\t\t")])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}]}},366:function(t,e){},367:function(t,e,s){s(131),t.exports=s(130)},93:function(t,e,s){"use strict";var a=s(91),n=s(364),r=s(353),l=s.n(r),i=s(356),o=s.n(i);a.a.use(n.a),e.a=new n.a({routes:[{path:"/",name:"SheltersIndex",component:l.a,children:[{path:":id",name:"SheltersShow",component:o.a,props:!0}]},{path:"*",redirect:"/shelters"}]})}},[367]);
//# sourceMappingURL=app.4e20218dbc7dcb7941da.js.map